var histcatexplong = [
	{
		"key" : "EU Imports",
		"values" : [ [ 1380574800000 , 18750] , [ 1383256800000 , 18859] , [ 1385848800000 , 18310] , [ 1388527200000 , 18587] , [ 1391205600000 , 19003] , [ 1393624800000 , 18456] , [ 1396299600000 , 18602] , [ 1398891600000 , 18735] , [ 1401570000000 , 18699] , [ 1404162000000 , 19115] , [ 1406840400000 , 18467] , [ 1409518800000 , 18856] , [ 1412110800000 , 18957] , [ 1414792800000 , 18805] , [ 1417384800000 , 19173] , [ 1420063200000 , 18612] , [ 1422741600000 , 19145] , [ 1425160800000 , 18848] , [ 1427835600000 , 18477] , [ 1430427600000 , 18655] , [ 1433106000000 , 18662] , [ 1435698000000 , 18174] , [ 1438376400000 , 18371] , [ 1441054800000 , 18287] , [ 1443646800000 , 18752] , [ 1446328800000 , 18841] , [ 1448920800000 , 18088] , [ 1451599200000 , 18777] , [ 1454277600000 , 19384] , [ 1456783200000 , 19123 ] , [ 1459458000000 , 19585] , [ 1462050000000 , 19446] , [ 1464728400000 , 19754] , [ 1467320400000 , 19771] , [ 1469998800000 , 20280] , [ 1472677200000 , 20774] , [ 1475269200000 , 20503] ]
	},
	{
		"key" : "non-EU Imports",
		"values" : [ [ 1380574800000 , 17735] , [ 1383256800000 , 17205] , [ 1385848800000 , 15421] , [ 1388527200000 , 15805] , [ 1391205600000 , 14692] , [ 1393624800000 , 15789] , [ 1396299600000 , 15713] , [ 1398891600000 , 15803] , [ 1401570000000 , 15382] , [ 1404162000000 , 16394] , [ 1406840400000 , 15002] , [ 1409518800000 , 16375] , [ 1412110800000 , 15805] , [ 1414792800000 , 15840] , [ 1417384800000 , 18476] , [ 1420063200000 , 17428] , [ 1422741600000 , 16088] , [ 1425160800000 , 16063] , [ 1427835600000 , 15678] , [ 1430427600000 , 15158] , [ 1433106000000 , 15009] , [ 1435698000000 , 15242] , [ 1438376400000 , 14802] , [ 1441054800000 , 14559] , [ 1443646800000 , 15798] , [ 1446328800000 , 14526] , [ 1448920800000 , 14041] , [ 1451599200000 , 14059] , [ 1454277600000 , 14996] , [ 1456783200000 , 16090 ] , [ 1459458000000 , 16778] , [ 1462050000000 , 14389] , [ 1464728400000 , 15822] , [ 1467320400000 , 16495] , [ 1469998800000 , 18155] , [ 1472677200000 , 17683] , [ 1475269200000 , 15967] ]
	} 
];

var chart;
nv.addGraph(function() {
	chart = nv.models.stackedAreaChart()
		.color(['blue','red'])
		.useInteractiveGuideline(true)
		.x(function(d) { return d[0] })
		.y(function(d) { return d[1] })
		.controlLabels({stacked: "Stacked"})
		.duration(300);
		
	chart.xAxis.tickFormat(function(d) { return d3.time.format('%x')(new Date(d)) });
	chart.yAxis.tickFormat(d3.format(',.0f'));
	chart.legend.vers('furious');

	d3.select('#importsArea')
		.datum(histcatexplong)
		.transition().duration(1000)
		.call(chart)
		.each('start', function() {
			setTimeout(function() {
				d3.selectAll('#importsArea ').each(function() {
					if(this.__transition__)
						this.__transition__.duration = 1;
				})
			}, 0)
		});

	nv.utils.windowResize(chart.update);
	return chart;
});

var exportData = [
	{
		"key" : "EU Exports",
		"values" : [ [ 1380574800000 , 12164] , [ 1383256800000 , 12053] , [ 1385848800000 , 12594] , [ 1388527200000 , 12004] , [ 1391205600000 , 12123] , [ 1393624800000 , 12923] , [ 1396299600000 , 12587] , [ 1398891600000 , 12643] , [ 1401570000000 , 12209] , [ 1404162000000 , 12194] , [ 1406840400000 , 11673] , [ 1409518800000 , 12037] , [ 1412110800000 , 12088] , [ 1414792800000 , 11704] , [ 1417384800000 , 11833] , [ 1420063200000 , 11257] , [ 1422741600000 , 11084] , [ 1425160800000 , 11050] , [ 1427835600000 , 11037] , [ 1430427600000 , 11411] , [ 1433106000000 , 11647] , [ 1435698000000 , 10955] , [ 1438376400000 , 11473] , [ 1441054800000 , 11249] , [ 1443646800000 , 11406] , [ 1446328800000 , 10802] , [ 1448920800000 , 10754] , [ 1451599200000 , 10906] , [ 1454277600000 , 11285] , [ 1456783200000 , 11212 ] , [ 1459458000000 , 12492] , [ 1462050000000 , 11981] , [ 1464728400000 , 11818] , [ 1467320400000 , 12560] , [ 1469998800000 , 12480] , [ 1472677200000 , 12210] , [ 1475269200000 , 12390] ]
	},
	{
		"key" : "non-EU Exports",
		"values" : [ [ 1380574800000 , 12559] , [ 1383256800000 , 12345] , [ 1385848800000 , 12479] , [ 1388527200000 , 12063] , [ 1391205600000 , 12011] , [ 1393624800000 , 12067] , [ 1396299600000 , 11755] , [ 1398891600000 , 12564] , [ 1401570000000 , 11988] , [ 1404162000000 , 12326] , [ 1406840400000 , 11381] , [ 1409518800000 , 12791] , [ 1412110800000 , 13556] , [ 1414792800000 , 12595] , [ 1417384800000 , 12614] , [ 1420063200000 , 12886] , [ 1422741600000 , 12278] , [ 1425160800000 , 12731] , [ 1427835600000 , 13467] , [ 1430427600000 , 13444] , [ 1433106000000 , 13595] , [ 1435698000000 , 11768] , [ 1438376400000 , 11921] , [ 1441054800000 , 12992] , [ 1443646800000 , 12132] , [ 1446328800000 , 12989] , [ 1448920800000 , 13407] , [ 1451599200000 , 12825] , [ 1454277600000 , 12089] , [ 1456783200000 , 11931 ] , [ 1459458000000 , 13095] , [ 1462050000000 , 13332] , [ 1464728400000 , 12850] , [ 1467320400000 , 12302] , [ 1469998800000 , 12499] , [ 1472677200000 , 12415] , [ 1475269200000 , 14369] ]
	} 
];

var chart;
nv.addGraph(function() {
	chart = nv.models.stackedAreaChart()
		.color(['blue','red'])
		.useInteractiveGuideline(true)
		.x(function(d) { return d[0] })
		.y(function(d) { return d[1] })
		.controlLabels({stacked: "Stacked"})
		.duration(300);
		
	chart.xAxis.tickFormat(function(d) { return d3.time.format('%x')(new Date(d)) });
	chart.yAxis.tickFormat(d3.format(',.0f'));
	chart.legend.vers('furious');

	d3.select('#exportsArea')
		.datum(exportData)
		.transition().duration(1000)
		.call(chart)
		.each('start', function() {
			setTimeout(function() {
				d3.selectAll('#exportsArea ').each(function() {
					if(this.__transition__)
						this.__transition__.duration = 1;
				})
			}, 0)
		});

	nv.utils.windowResize(chart.update);
	return chart;
});
